<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: App.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: App.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>import './App.css';
import Wrapper from "./components/Wrapper";
import ScreenWrapper from "./components/ScreenWrapper";
import ButtonBox from "./components/ButtonBox";
import Button from "./components/Button";
import React from "react";

const btnValues = [
  ["7", "8", "9", "/"],
  ["4", "5", "6", "X"],
  ["1", "2", "3", "-"],
  ["0", ".", "=", "+"]
];

function App() {
  const [value, setValue] = React.useState(0);
  const [clear, setClear] = React.useState(false);
  
  /** Handler for number button clicks.
   * @param {SyntheticEvent} e - Event e.
   * Prevents number clicks under illegal events.
   */
  const numClickHandler = (e) => {
    const numPressed = e.target.innerHTML;
    if(
      value === 0 ||
      Number.isInteger(value) ||
      (value % 1 !== 0 &amp;&amp; clear === true)
    ) {
      setValue(numPressed);
      setClear(false);
    }
    else {
      setValue(value + numPressed);
    }
  };
  
  /** Handler for decimal button clicks.
   * @param {SyntheticEvent} e - Event e.
   * Adds a decimal point to current value.
   */
  const decimalClickHandler = (e) => {
    const decimalPressed = e.target.innerHTML;
    setValue(value + decimalPressed);
  };

  /** Handler for operator button clicks.
   * @param {SyntheticEvent} e - Event e.
   * Adds an operator to current value.
   */
  const operatorClickHandler = (e) => {
    const operatorPressed = e.target.innerHTML;
    setValue(value + operatorPressed);
  };

  /** Handler for equals button clicks.
   * @param {SyntheticEvent} e - Event e.
   * Sends post request with equation.
   * Displays the result as new value.
   */
  const equalsClickHandler = () => {
    setClear(true);
    const requestOptions = {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json'
      },
      mode: 'cors',
      body: JSON.stringify({
        value: value
      })
  };
  fetch('http://localhost:3000/post', requestOptions)
      .then(response => response.json())
      .then(solution => setValue(solution.message));
  };

  return (
    &lt;Wrapper>
      &lt;ScreenWrapper 
        setValue={setValue}
        setClear={setClear}
        value={value}
      />
      &lt;ButtonBox>
        {
          btnValues.flat().map((btn, i) => {
            return (
              &lt;Button
                key={i}
                className={""}
                value={btn}
                onClick={
                  btn === "="
                  ? equalsClickHandler
                  : btn === "/" || btn === "X" || btn === "-" || btn === "+"
                  ? operatorClickHandler
                  : btn === "."
                  ? decimalClickHandler
                  : numClickHandler
                }
              />
            );
          })
        }
      &lt;/ButtonBox>
    &lt;/Wrapper>
  );
}

export default App;
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.10</a> on Sat Jan 29 2022 23:19:45 GMT+1000 (Australian Eastern Standard Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
